{% macro progress(opened, closed) %}
  {% set value = closed / ((closed + opened) or 1) %}
  {% set title='{} / {} ({}%)'.format(closed, closed + opened, (100 * value) | round | int) %}
  <progress value="{{ value }}" title="{{ title }}">{{ title }}</progress>
{% endmacro %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Gibolt</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" type="text/css" media="screen" />
    <script language="javascript" src="{{ url_for('static', filename='js/main.js') }}" ></script>
  </head>

  <body>
    <a name="top"></a>
    <header>
      <div id="logo">
        <img id="big-gear" src="{{ url_for('static', filename='images/gear.png')}}" alt='logo' />
        <img id="small-gear" src="{{ url_for('static', filename='images/gear42.png')}}" alt='logo' />
        
        <h1 id="project-title">
          Gibolt
        </h1>
      </div>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% for category, message in messages %}
        <aside class="flash {{ category }}">
          {{ message }}
        </aside>
      {% endfor %}
    {% endwith %}

    <nav id="main-navigation-menu">
      <ul>
        <li><a href="{{ url_for('show_now') }}">Timeline</a></li>
        <li><a href="{{ url_for('show_sprint_issues') }}">Issues</a></li>
        <li><a href="{{ url_for('show_assigned_issues') }}">Report</a></li>
        <li><a href="{{ url_for('refresh_all') }}">Refresh Cache</a></li>
      </ul>
    </nav>
    </header>

    <main>
      {% block sidenav %}{% endblock sidenav %}
      {% block main %}{% endblock main %}
    </main>

    <footer>
      <ul>
        <li>
          <img id="kozea-logo" src="{{ url_for('static', filename='images/logo-kozea.png') }}" alt="logo-kozea" />
          <a href="http://community.kozea.org/">A Kozea Project</a></li>
      </ul>
    </footer>
  </body>
</html>
